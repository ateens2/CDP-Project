# 탄소 감축 현황 대시보드 개발 PRD (Product Requirements Document)

## 1. 프로젝트 개요

### 1.1 배경
기존 CRM 시스템에 고객 관리, 매출 분석 기능에 이어 탄소 감축 현황 페이지를 추가 개발한다. 기업들이 친환경 제품 판매를 통한 환경 기여도를 수치적으로 확인하고, 이를 홍보 자료로 활용할 수 있는 통합 대시보드를 제공한다.

### 1.2 목표
- 기업의 탄소 감축 성과를 직관적으로 시각화
- 홍보용 마케팅 자료 자동 생성 기능 제공
- 고객별/제품별 환경 기여도 분석 도구 구축
- 신뢰성 있는 데이터 기반 환경 성과 보고서 생성

### 1.3 기술 스택
- Frontend: React.js, Chart.js, CSS3
- Backend: Node.js, Express.js
- Database: Google Sheets API 연동
- 기존 탄소 배출량 데이터: CSV 파일 (data/생활용품 탄소배출량.csv)

## 2. Phase 1: 기본 탄소 감축 대시보드 (최우선)

### 2.1 메인 대시보드 컴포넌트 개발
**파일명**: `frontend/src/pages/CarbonImpactDashboard.jsx`

#### 2.1.1 상단 요약 카드 섹션
- 총 탄소 감축량 카드 (kg CO₂ 단위)
- 동등한 나무 심기 효과 카드 (그루 단위)
- 친환경 제품 판매율 카드 (퍼센트)
- 고객 환경 참여도 카드 (퍼센트)
- 각 카드는 전월 대비 증감률 표시
- 아이콘과 색상으로 시각적 구분

#### 2.1.2 메인 차트 영역
- 월별 탄소 감축량 추이 차트 (Line Chart)
- 제품 카테고리별 감축 기여도 차트 (Pie Chart)
- 고객 세그먼트별 환경 영향 차트 (Bar Chart)
- 차트 간 상호작용 기능 (클릭 시 상세 정보 표시)

### 2.2 데이터 처리 백엔드 개발
**파일명**: `backend/routes/carbon-impact.js`

#### 2.2.1 탄소 감축 데이터 집계 API
- `/api/carbon-impact/summary` - 요약 통계 조회
- `/api/carbon-impact/trends` - 시간별 추이 데이터
- `/api/carbon-impact/by-category` - 카테고리별 분석
- `/api/carbon-impact/by-customer` - 고객별 분석

#### 2.2.2 기존 데이터 연동
- Google Sheets API를 통한 판매 데이터 조회
- CSV 파일의 탄소 배출량 데이터와 매칭
- 실시간 데이터 업데이트 로직

### 2.3 스타일링 및 반응형 디자인
**파일명**: `frontend/src/pages/CarbonImpactDashboard.css`

#### 2.3.1 디자인 요구사항
- 친환경 테마 색상 (녹색 계열)
- 카드형 레이아웃으로 정보 구조화
- 모바일/태블릿 반응형 지원
- 다크모드 지원 (선택사항)

## 3. Phase 2: 마케팅 자료 생성 기능

### 3.1 마케팅 자료 생성 컴포넌트
**파일명**: `frontend/src/components/MarketingAssets.jsx`

#### 3.1.1 템플릿 기반 자료 생성
- 소셜미디어용 포스트 템플릿
- 보도자료용 텍스트 템플릿  
- 상세 보고서용 템플릿
- PDF 다운로드 기능

#### 3.1.2 커스터마이징 옵션
- 기간 선택 (월간/분기/연간)
- 회사 로고 및 브랜딩 요소 추가
- 색상 테마 커스터마이징
- 텍스트 편집 기능

### 3.2 자료 생성 백엔드 로직
**파일명**: `backend/utils/marketing-generator.js`

#### 3.2.1 데이터 가공 함수
- 기간별 집계 데이터 생성
- 텍스트 템플릿 렌더링
- 이미지/차트 생성 로직
- 파일 다운로드 API

## 4. Phase 3: 고급 분석 및 예측 기능

### 4.1 고객 세그먼트 분석
**파일명**: `frontend/src/components/CustomerSegmentAnalysis.jsx`

#### 4.1.1 환경 의식 수준별 분류
- 고객 환경 점수 기반 세그멘테이션
- 세대별/지역별 구매 패턴 분석
- 고객별 환경 성장 스토리 생성
- 개인화된 추천 시스템

### 4.2 예측 분석 기능
**파일명**: `frontend/src/components/PredictiveAnalysis.jsx`

#### 4.2.1 미래 예측 모델
- 다음 분기 탄소 감축 예상량
- 목표 달성을 위한 권장 행동
- 계절성 패턴 분석
- 비즈니스 인사이트 제공

### 4.3 벤치마킹 및 비교 분석
**파일명**: `frontend/src/components/BenchmarkAnalysis.jsx`

#### 4.3.1 업계 비교 기능
- 동일 업계 평균과 비교
- 경쟁사 대비 성과 분석
- 목표 설정 및 추적
- 개선 영역 식별

## 5. Phase 4: 인증 및 투명성 시스템

### 5.1 데이터 투명성 페이지
**파일명**: `frontend/src/pages/DataTransparency.jsx`

#### 5.1.1 계산 방법론 공개
- 탄소 감축 계산 공식 상세 설명
- 데이터 소스 및 출처 명시
- 불확실성 및 한계 설명
- 업데이트 이력 추적

### 5.2 인증서 및 보고서 생성
**파일명**: `frontend/src/components/CertificationReport.jsx`

#### 5.2.1 공식 문서 생성
- 환경 성과 인증서 템플릿
- 연간 지속가능성 보고서
- 제3자 검증 준비 자료
- 규제 대응 문서

### 5.3 검증 시스템 연동
**파일명**: `backend/services/verification.js`

#### 5.3.1 외부 검증 API
- 환경부 공식 데이터베이스 연동
- 제3자 검증 기관 API 연결
- 자동 데이터 검증 로직
- 이상치 탐지 및 알림

## 6. Phase 5: 개선된 계산식 구현 (최저 우선순위)

### 6.1 향상된 탄소 영향 계산 로직
**파일명**: `backend/utils/enhanced-carbon-calculation.js`

#### 6.1.1 다차원 계산 요소
- 제품 수명 가중치 적용
- 사용 빈도 가중치 적용
- 대체 효과 계산 (일회용품 대체)
- 재활용/업사이클링 보너스
- 지역 생산 보너스 (운송비 절약)

#### 6.1.2 검증 및 보정 시스템
- 계산 결과 검증 로직
- 이상치 탐지 및 보정
- 사용자 피드백 반영 시스템
- A/B 테스트 프레임워크

### 6.2 계산식 마이그레이션
**파일명**: `backend/migrations/carbon-calculation-upgrade.js`

#### 6.2.1 기존 데이터 호환성
- 기존 계산 방식과 신규 방식 병행 운영
- 점진적 마이그레이션 전략
- 데이터 백업 및 복구 시스템
- 사용자 선택 옵션 제공

## 7. 공통 요구사항

### 7.1 성능 최적화
- 차트 렌더링 최적화
- 데이터 캐싱 전략
- 페이지 로딩 속도 개선
- 대용량 데이터 처리

### 7.2 사용자 경험
- 직관적인 내비게이션
- 로딩 상태 표시
- 에러 처리 및 사용자 가이드
- 접근성 (Accessibility) 준수

### 7.3 보안 및 데이터 보호
- 민감한 고객 데이터 보호
- API 보안 강화
- 감사 로그 시스템
- GDPR 준수

### 7.4 테스트 및 품질 보증
- 단위 테스트 작성
- 통합 테스트 구현
- E2E 테스트 시나리오
- 성능 테스트

## 8. 마일스톤

### 8.1 Phase 1 완료 목표: 2주
- 기본 대시보드 개발 완료
- 핵심 차트 및 카드 구현
- 기본 API 연동

### 8.2 Phase 2 완료 목표: 3주
- 마케팅 자료 생성 기능 완료
- 템플릿 시스템 구축
- 다운로드 기능 구현

### 8.3 Phase 3 완료 목표: 4주
- 고급 분석 기능 완료
- 예측 모델 구현
- 벤치마킹 시스템

### 8.4 Phase 4 완료 목표: 2주
- 투명성 및 인증 시스템 완료
- 검증 기능 구현

### 8.5 Phase 5 완료 목표: 3주
- 개선된 계산식 구현 완료
- 마이그레이션 시스템 완료

총 개발 기간: 약 14주 (3.5개월) 